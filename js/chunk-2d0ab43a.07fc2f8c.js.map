{"version":3,"sources":["webpack:///./src/views/User.vue?0790","webpack:///./src/components/UserProfileCard.vue?185b","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?f858","webpack:///./src/components/UserProfileCard.vue","webpack:///./src/components/UserFollowingsCard.vue?00b4","webpack:///src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowingsCard.vue?b773","webpack:///./src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowersCard.vue?0be8","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?8515","webpack:///./src/components/UserFollowersCard.vue","webpack:///./src/components/UserCommentsCard.vue?eadb","webpack:///src/components/UserCommentsCard.vue","webpack:///./src/components/UserCommentsCard.vue?17a1","webpack:///./src/components/UserCommentsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?5e05","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?d330","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?6a5a","webpack:///./src/views/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","user","currentUser","id","isFollowed","followings","followers","comments","favoritedRestaurants","staticRenderFns","_f","image","_s","name","email","commentsLength","favoritedRestaurantsLength","followingsLength","followersLength","on","$event","stopPropagation","preventDefault","deleteFollowing","addFollowing","mixins","props","type","Object","required","isCurrentUser","Boolean","initialIsFollowed","data","watch","methods","component","length","_l","following","key","params","namd","Array","default","follower","comment","Restaurant","favoritedRestaurant","misins","components","UserProfileCard","UserFollowigsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","computed","created","fetchUser","beforeRouteUpdate","next"],"mappings":"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","file":"js/chunk-2d0ab43a.07fc2f8c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container py-5\"},[_c('h1',[_vm._v(\"userprofile\")]),_c('UserProfileCard',{attrs:{\"user\":_vm.user,\"is-current-user\":_vm.currentUser.id === _vm.user.id,\"initial-is-followed\":_vm.isFollowed}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowigsCard',{attrs:{\"followings\":_vm.followings}}),_c('UserFollowersCard',{attrs:{\"followers\":_vm.followers}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentsCard',{attrs:{\"comments\":_vm.comments}}),_c('UserFavoritedRestaurantsCard',{attrs:{\"favorited-restaurants\":_vm.favoritedRestaurants}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.image),\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.user.email))]),_c('ul',{staticClass:\"list-unstyled\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.commentsLength))]),_vm._v(\" 已評論餐廳 \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.favoritedRestaurantsLength))]),_vm._v(\" 收藏的餐廳 \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.followingsLength))]),_vm._v(\" followings (追蹤者) \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.followersLength))]),_vm._v(\" followers (追隨者) \")])]),(_vm.isCurrentUser)?[_c('a',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"#\"}},[_vm._v(\"Edit\")])]:[(_vm.isFollowed)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(_vm.user.id)}}},[_vm._v(\"取消追蹤\")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(_vm.user.id)}}},[_vm._v(\"追蹤\")])]],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-md-4\">\n        <img :src=\"user.image | emptyImage\" width=\"300px\" height=\"300px\" />\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ user.name }}</h5>\n          <p class=\"card-text\">{{ user.email }}</p>\n          <ul class=\"list-unstyled\">\n            <li>\n              <strong>{{ user.commentsLength }}</strong> 已評論餐廳\n            </li>\n            <li>\n              <strong>{{ user.favoritedRestaurantsLength }}</strong> 收藏的餐廳\n            </li>\n            <li>\n              <strong>{{ user.followingsLength }}</strong> followings (追蹤者)\n            </li>\n            <li>\n              <strong>{{ user.followersLength }}</strong> followers (追隨者)\n            </li>\n          </ul>\n          <template v-if=\"isCurrentUser\">\n            <a href=\"#\" class=\"btn btn-primary\">Edit</a>\n          </template>\n          <template v-else>\n            <button\n              v-if=\"isFollowed\"\n              type=\"button\"\n              class=\"btn btn-danger\"\n              @click.stop.prevent=\"deleteFollowing(user.id)\"\n            >取消追蹤</button>\n            <button\n              v-else\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click.stop.prevent=\"addFollowing(user.id)\"\n            >追蹤</button>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\nimport { emptyImageFilter } from \"./../utils/mixins\";\n\nexport default {\n  mixins: [emptyImageFilter],\n  props: {\n    user: {\n      type: Object,\n      required: true\n    },\n    isCurrentUser: {\n      type: Boolean,\n      required: true\n    },\n    initialIsFollowed: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isFollowed: this.initialIsFollowed\n    };\n  },\n  watch: {\n    initialIsFollowed(isFollowed) {\n      this.isFollowed = isFollowed;\n    }\n  },\n  methods: {\n    async addFollowing(userId) {\n      try {\n        const { data, statusText } = await usersAPI.addFollowing({\n          userId\n        });\n        if (statusText !== \"OK\" || data.status !== \"success\") {\n          throw new Error(statusText);\n        }\n        this.isFollowed = true;\n      } catch (error) {\n        Toast.fire({\n          type: \"error\",\n          title: \"無法加入追蹤，請稍後再試\"\n        });\n      }\n    },\n    async deleteFollowing(userId) {\n      try {\n        const { data, statusText } = await usersAPI.deleteFollowing({\n          userId\n        });\n        if (statusText !== \"OK\" || data.status !== \"success\") {\n          throw new Error(statusText);\n        }\n        this.isFollowed = false;\n      } catch (error) {\n        Toast.fire({\n          type: \"error\",\n          title: \"無法取消追蹤，請稍後再試\"\n        });\n      }\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=73756596&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followings.length))]),_vm._v(\" followings (追蹤者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followings),function(following){return _c('router-link',{key:following.id,attrs:{\"to\":{name: 'user', params: { id: following.id }}}},[_c('img',{staticClass:\"mr-1\",attrs:{\"src\":_vm._f(\"emptyImage\")(following.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"card-header\">\n      <strong>{{ followings.length }}</strong> followings (追蹤者)\n    </div>\n    <div class=\"card-body\">\n      <router-link\n        v-for=\"following in followings\"\n        :key=\"following.id\"\n        :to=\"{name: 'user', params: { id: following.id }}\"\n      >\n        <img :src=\"following.image | emptyImage\" width=\"60\" height=\"60\" class=\"mr-1\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from \"./../utils/mixins\";\nexport default {\n  namd: \"UserFollowigsCard\",\n  mixins: [emptyImageFilter],\n  props: {\n    followings: {\n      type: Array,\n      default: () => []\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=15fbd0ae&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followers.length))]),_vm._v(\" followers (追蹤者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followers),function(follower){return _c('router-link',{key:follower.id,attrs:{\"to\":{name: 'user', params: { id: follower.id }}}},[_c('img',{staticClass:\"mr-1\",attrs:{\"src\":_vm._f(\"emptyImage\")(follower.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"card-header\">\n      <strong>{{ followers.length }}</strong> followers (追蹤者)\n    </div>\n    <div class=\"card-body\">\n      <router-link\n        v-for=\"follower in followers\"\n        :key=\"follower.id\"\n        :to=\"{name: 'user', params: { id: follower.id }}\"\n      >\n        <img :src=\"follower.image | emptyImage\" width=\"60\" height=\"60\" class=\"mr-1\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n<script>\nimport { emptyImageFilter } from \"./../utils/mixins\";\nexport default {\n  namd: \"UserFollowersCard\",\n  mixins: [emptyImageFilter],\n  props: {\n    followers: {\n      type: Array,\n      default: () => []\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=2d32c38f&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.comments.length))]),_vm._v(\" 已評論餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.comments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{name: 'restaurant', params: { id: comment.Restaurant.id }}}},[_c('img',{staticClass:\"mr-1\",attrs:{\"src\":_vm._f(\"emptyImage\")(comment.Restaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"card-header\">\n      <strong>{{ comments.length }}</strong> 已評論餐廳\n    </div>\n    <div class=\"card-body\">\n      <router-link\n        v-for=\"comment in comments\"\n        :key=\"comment.id\"\n        :to=\"{name: 'restaurant', params: { id: comment.Restaurant.id }}\"\n      >\n        <img :src=\"comment.Restaurant.image | emptyImage\" width=\"60\" height=\"60\" class=\"mr-1\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from \"./../utils/mixins\";\nexport default {\n  name: \"UserCommentsCard\",\n  mixins: [emptyImageFilter],\n  props: {\n    comments: {\n      type: Array,\n      default: () => []\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=bedb5ebe&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.favoritedRestaurants.length))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.favoritedRestaurants),function(favoritedRestaurant){return _c('router-link',{key:favoritedRestaurant.id,attrs:{\"to\":{name: 'restaurant', params: { id: favoritedRestaurant.id }}}},[_c('img',{staticClass:\"mr-1\",attrs:{\"src\":_vm._f(\"emptyImage\")(favoritedRestaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"card-header\">\n      <strong>{{ favoritedRestaurants.length }}</strong> 收藏的餐廳\n    </div>\n    <div class=\"card-body\">\n      <router-link\n        v-for=\"favoritedRestaurant in favoritedRestaurants\"\n        :key=\"favoritedRestaurant.id\"\n        :to=\"{name: 'restaurant', params: { id: favoritedRestaurant.id }}\"\n      >\n        <img :src=\"favoritedRestaurant.image | emptyImage\" width=\"60\" height=\"60\" class=\"mr-1\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter } from \"./../utils/mixins\";\nexport default {\n  name: \"UserFavoritedRestaurantsCard\",\n  misins: [emptyImageFilter],\n  props: {\n    favoritedRestaurants: {\n      type: Array,\n      default: () => []\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=9b20f080&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container py-5\">\n    <!-- UserShowProfileCard -->\n    <h1>userprofile</h1>\n    <UserProfileCard\n      :user=\"user\"\n      :is-current-user=\"currentUser.id === user.id\"\n      :initial-is-followed=\"isFollowed\"\n    />\n\n    <div class=\"row\">\n      <div class=\"col-md-4\">\n        <UserFollowigsCard :followings=\"followings\" />\n        <UserFollowersCard :followers=\"followers\" />\n      </div>\n      <div class=\"col-md-8\">\n        <UserCommentsCard :comments=\"comments\" />\n        <UserFavoritedRestaurantsCard :favorited-restaurants=\"favoritedRestaurants\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\n\nimport UserProfileCard from \"./../components/UserProfileCard\";\nimport UserFollowigsCard from \"./../components/UserFollowingsCard\";\nimport UserFollowersCard from \"./../components/UserFollowersCard\";\nimport UserCommentsCard from \"./../components/UserCommentsCard\";\nimport UserFavoritedRestaurantsCard from \"./../components/UserFavoritedRestaurantsCard\";\n\nexport default {\n  name: \"User\",\n  components: {\n    UserProfileCard,\n    UserFollowigsCard,\n    UserFollowersCard,\n    UserCommentsCard,\n    UserFavoritedRestaurantsCard\n  },\n  data() {\n    return {\n      user: {\n        id: 0,\n        image: \"\",\n        name: \"\",\n        email: \"\",\n        followingsLength: 0,\n        followersLength: 0,\n        commentsLength: 0,\n        favoritedRestaurantsLength: 0\n      },\n      isFollowed: false,\n      followings: [],\n      followers: [],\n      comments: [],\n      favoritedRestaurants: []\n    };\n  },\n  //將資料從 Vuex 取出\n  computed: {\n    ...mapState([\"currentUser\"])\n  },\n  created() {\n    //從路由取得使用者 id\n    const { id } = this.$route.params;\n    this.fetchUser(id);\n  },\n  //在 beforeRouteUpdate 時要再重新取得使用者資料\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params;\n    this.fetchUser(id);\n    next();\n  },\n  methods: {\n    async fetchUser(userId) {\n      try {\n        const { data, statusText } = await usersAPI.get({ userId });\n        const { profile, isFollowed } = data;\n        if (statusText !== \"OK\") {\n          throw new Error(statusText);\n        }\n        this.user = {\n          ...this.user,\n          id: profile.id,\n          image: profile.image,\n          name: profile.name,\n          email: profile.name,\n          followingsLength: profile.Followings.length,\n          followersLength: profile.Followers.length,\n          commentsLength: profile.Comments.length,\n          favoritedRestaurantsLength: profile.FavoritedRestaurants.length\n        };\n        this.isFollowed = isFollowed;\n        this.followings = profile.Followings;\n        this.followers = profile.Followers;\n        this.favoritedRestaurants = profile.FavoritedRestaurants;\n        //處理 comment.Restaurant 可能有空值的情況\n        this.comments = profile.Comments.filter(comment => comment.Restaurant);\n      } catch (error) {\n        Toast.fire({\n          type: \"error\",\n          title: \"無法取得使用者資料，請稍後再試\"\n        });\n      }\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=0824c5c5&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}